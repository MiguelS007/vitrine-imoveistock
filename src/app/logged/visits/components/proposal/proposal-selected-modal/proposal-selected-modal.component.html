<section class="container-fluid p-4">
    <div class="d-flex justify-content-end">
        <img src="../../../../../../assets/icon/times.svg" (click)="exit()" height="23">
    </div>
    <div class="w-100 bg-white mt-4 border-radius-10 h-auto border">
        <div class="product-announcement p-2 border-radius-10 bg-white">
            <div class="py-2 px-3 product-announcement-card position-relative">
                <img *ngIf="!selectedProposal.announcement?.mainPhoto" src="../../../../assets/img/ap.png"
                    class="photo-announcement-card" (click)="announcementSelected(selectedProposal.announcement?._id)">
                <img *ngIf="selectedProposal.announcement?.mainPhoto" [src]="selectedProposal.announcement?.mainPhoto"
                    class="photo-announcement-card" (click)="announcementSelected(selectedProposal.announcement?._id)">
                <div class="space-sale-exclusive">
                    <h4 *ngIf="selectedProposal.announcement?.typeOfAd === 'sale'"
                        class="bg-purple h-fit px-4 py-2 mb-0 border-radius-5 fw-400 font-size-14 line-15 text-light mx-2">
                        Venda</h4>
                    <h4 *ngIf="selectedProposal.announcement?.typeOfAd === 'rent'"
                        class="bg-purple h-fit px-4 py-2 mb-0 border-radius-5 fw-400 font-size-14 line-15 text-light mx-2">
                        Locação</h4>
                    <h4 *ngIf="selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'"
                        class="bg-purple h-fit px-4 py-2 mb-0 border-radius-5 fw-400 font-size-14 line-15 text-light mx-2">
                        Venda</h4>
                    <h4 *ngIf="selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'"
                        class="bg-purple h-fit px-4 py-2 mb-0 border-radius-5 fw-400 font-size-14 line-15 text-light mx-2">
                        Locação</h4>
                    <h4 *ngIf="selectedProposal.announcement?.exclusivity === true"
                        class="bg-greenlight h-fit px-3 py-2 mb-0 border-radius-5 fw-400 font-size-14 line-15 color-black">
                        Exclusivo</h4>
                </div>
                <div class="space-value-announcement">
                    <p class="fw-700 mb-0 font-size-22 h-fit line-32 text-light"
                        *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'">
                        {{selectedProposal.announcement?.saleValue | currency:
                        'R$'}}</p>
                    <p class="fw-700 mb-0 font-size-22 h-fit line-32 text-light"
                        *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'">
                        {{selectedProposal.announcement?.leaseValue | currency:
                        'R$'}}
                    </p>
                    <div (click)="likeHeart(selectedProposal.announcement?._id)"
                        class="h-fit bg-transparent-white border-radius-10 pt-2 pb-1 px-3">
                        <i [class]="selectedProposal.announcement?.liked ?
                            'bi-heart-fill':'bi-heart'" class="bi bi-heart-fill font-size-16 text-light"></i>
                    </div>
                </div>
            </div>
            <div class="w-100 mx-3 text-align-left
                                pt-3" (click)="announcementSelected(selectedProposal.announcement?._id)"
                style="cursor: pointer;">
                <span class="fw-400 font-size-14
                                    line-20
                                    color-black">{{selectedProposal.announcement?.propertyCharacteristics}}</span>
                <p class="fw-700 font-size-16 line-20 mb-0 color-black  text-truncate" style="max-width: 90%;">
                    {{selectedProposal.announcement?.description}}</p>
                <p class="d-flex
                                    align-items-center">
                    <i class="bi font-size-20 mr-2
                                        color-black
                                        bi-geo-alt"></i>
                    <span
                        class="fw-400 font-size-14 line-20 color-black">{{selectedProposal.announcement?.publicPlaceAddress}},
                        {{selectedProposal.announcement?.cityAddress}} -
                        {{selectedProposal.announcement?.ufAddress}}</span>
                </p>
            </div>
            <div class="row mx-3 my-3 d-flex">
                <div class="col justify-content-left
                                    px-0 d-flex
                                    align-items-center
                                    justify-content-left">
                    <img src="../../../assets/icon/bed.png" class="pr-2" />
                    <p class="fw-400 mb-0
                                        font-size-14 line-20
                                        color-black">{{selectedProposal.announcement?.bedrooms}}
                        Quartos</p>
                </div>
                <div class="col justify-content-left px-0
                                    d-flex
                                    align-items-center
                                    justify-content-left">
                    <img src="../../../assets/icon/car.png" class="pr-2" />
                    <p class="fw-400 mb-0
                                        font-size-14 line-20
                                        color-black">{{selectedProposal.announcement?.parkingSpaces}}
                        Vagas</p>
                </div>
                <div class="col justify-content-left
                                    px-0 d-flex
                                    align-items-center
                                    justify-content-left">
                    <img src="../../../assets/icon/rule.png" class="pr-2" />
                    <p class="fw-400 mb-0
                                        font-size-14 line-20
                                        color-black">{{selectedProposal.announcement?.usefulArea |
                        currency: ' '}} m2</p>
                </div>
            </div>
        </div>
    </div>
    <div class="w-100 bg-white border-radius-10 h-auto mt-4 p-4">
        <div class="d-flex justify-content-between">
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'">Aluguel</h5>
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'">Venda</h5>
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'">
                {{selectedProposal.announcement?.leaseValue | currency: 'R$'}}</h5>
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'">
                {{selectedProposal.announcement?.saleValue | currency: 'R$'}}</h5>
        </div>
        <div *ngIf="selectedProposal.saleCarAsPaymentAmount > 0" class="d-flex justify-content-between">
            <span class="fw-400 font-size-18
                            line-24 color-black">Valor da proposta de carro
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end"
                    ngbTooltip="Valor ofertado para carro" container="body"></i></span>
            <span class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.saleCarAsPaymentAmount | currency:
                'R$'}}
            </span>
        </div>
        <div *ngIf="selectedProposal.salePropertyAsPaymentAmount > 0" class="d-flex justify-content-between">
            <span class="fw-400 font-size-18
                            line-24 color-black">Valor da proposta de imóvel
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end"
                    ngbTooltip="Valor ofertado para imóvel" container="body"></i></span>
            <span class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.salePropertyAsPaymentAmount | currency:
                'R$'}}
            </span>
        </div>
        <div *ngIf="selectedProposal.saleDirectInstallmentAsPaymentAmount > 0" class="d-flex justify-content-between">
            <span class="fw-400 font-size-18
                            line-24 color-black">Valor da proposta de financiamento direto
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end"
                    ngbTooltip="Valor ofertado para financiamento direto" container="body"></i></span>
            <span class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.saleDirectInstallmentAsPaymentAmount |
                currency: 'R$'}}
            </span>
        </div>
        <div *ngIf="selectedProposal.saleFinancingAsPaymentAmount > 0" class="d-flex justify-content-between">
            <span class="fw-400 font-size-18
                            line-24 color-black">Valor da proposta de financiamento
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end"
                    ngbTooltip="Valor ofertado para financiamento" container="body"></i></span>
            <span class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.saleFinancingAsPaymentAmount |
                currency: 'R$'}}
            </span>
        </div>
        <hr class="bg-graylight">
        <div class="d-flex justify-content-between">
            <span class="fw-400 font-size-18
                            line-24 color-black">Valor da proposta
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end" ngbTooltip="Valor ofertado"
                    container="body"></i></span>
            <span *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'" class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.suggestedRentAmount | currency: 'R$'}}
            </span>
            <span *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'" class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.suggestedSaleAmount | currency: 'R$'}}
            </span>
        </div>
        <div class="d-flex justify-content-between py-2">
            <span class="fw-400 font-size-18
                            line-24 color-black">Condomínio
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end"
                    ngbTooltip="Valor total do condomínio" container="body"></i></span>
            <span class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.announcement?.condominiumValue |
                currency: 'R$'}}
            </span>
        </div>
        <div class="d-flex justify-content-between">
            <span *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'" class="fw-400 font-size-18
                            line-24 color-black">IPTU
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end"
                    ngbTooltip="Valor parcelado em 12x do IPTU" container="body"></i></span>
            <span *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'" class="fw-400 font-size-18
                            line-24 color-black">IPTU
                <i class="bi font-size-14
                                color-muted
                                bi-info-circle" alt="icons group" placement="end" ngbTooltip="Valor total do IPTU"
                    container="body"></i></span>
            <span class="fw-400 font-size-18
                                line-24 color-black">{{selectedProposal.announcement?.valueOfIptu | currency:
                'R$'}}
            </span>
        </div>
        <hr class="bg-graylight">
        <div class="d-flex justify-content-between">
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'">Total Aluguel</h5>
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'">Total Venda</h5>
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'rent' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'rent'">
                {{toNumber(selectedProposal.announcement?.valueOfIptu) / 12 +
                toNumber(selectedProposal.announcement?.leaseValue) +
                toNumber(selectedProposal.announcement?.condominiumValue) |
                currency: 'R$'}}</h5>
            <h5 class="font-size-18 fw-700 color-dark line-24"
                *ngIf="selectedProposal.announcement?.typeOfAd === 'sale' || selectedProposal?.announcement?.typeOfAd === 'both' && selectedProposal?.type === 'sale'">
                {{selectedProposal.announcement?.saleValue | currency: 'R$'}}</h5>
        </div>
    </div>
    <div class="w-100 d-flex mt-3">
        <button type="button" (click)="goExpress(selectedProposal)"
            class="btn border-radius-10 bg-purple text-light mx-1 mt-2 h-74 fw-700 font-size-18 line-24 w-100">
            Contra proposta
        </button>
        <button type="button" (click)="cancelProposal(selectedProposal)"
            class="btn border-radius-10 bg-white mt-2 mx-1 border-pink color-pink h-74 fw-700 font-size-18 line-24 w-100">
            Cancelar
        </button>
    </div>
</section>